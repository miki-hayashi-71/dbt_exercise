version: 2

sources:
  - name: thelook_ecommerce
    database: bigquery-public-data
    schema: thelook_ecommerce
    description: '{{ doc("thelook_ecommerce") }}'
    tables:
      - name: orders
        description: "注文データ"
    config:
      freshness:
        warn_after: { count: 24, period: hour }
        error_after: { count: 48, period: hour }
        filter: date(created_at, "+9") >= current_date("+9") - 3 # 作成日時（日本時間）が3日以内のデータのみ

models:
  - name: stg__orders
    description: "注文データ"
